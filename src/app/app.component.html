<body>
  <header class="navbar">
    <h1>Wallet App</h1>
  </header>

  <div class="container">
    <!-- Accounts Section -->
    <section>
      <h2>Accounts</h2>
      <ul class="account-list">
        <li class="account-item" *ngFor="let account of accounts">
          {{ account.accountName }} - {{ account.accountType }} - Balance:
          {{ account.balance | currency : "RWF" : "symbol" }}
          <button (click)="editAccount(account)">Edit</button>
        </li>
      </ul>

      <h2>Add Account</h2>
      <form (ngSubmit)="addAccount()">
        <div class="form-group">
          <input
            [(ngModel)]="newAccount.accountName"
            name="accountName"
            placeholder="Account Name"
            required
          />
        </div>
        <div class="form-group">
          <input
            [(ngModel)]="newAccount.accountType"
            name="accountType"
            placeholder="Account Type"
            required
          />
        </div>
        <div class="form-group">
          <input
            [(ngModel)]="newAccount.balance"
            name="balance"
            placeholder="Balance"
            type="number"
            required
          />
        </div>
        <div class="form-group">
          <button type="submit">Add Account</button>
        </div>
      </form>
    </section>

    <!-- Flex Layout for Transaction and Budget -->
    <section class="form-sections">
      <!-- Left side: Add Transaction -->
      <div class="left-side">
        <h2>Add Transaction</h2>
        <form (ngSubmit)="addTransaction()">
          <div class="form-group">
            <input
              [(ngModel)]="newTransaction.description"
              name="description"
              placeholder="Description"
              required
            />
          </div>
          <div class="form-group">
            <input
              [(ngModel)]="newTransaction.amount"
              name="amount"
              placeholder="Amount"
              type="number"
              required
            />
          </div>
          <div class="form-group">
            <input
              [(ngModel)]="newTransaction.category"
              name="category"
              placeholder="Category"
              required
            />
          </div>
          <div class="form-group">
            <input
              [(ngModel)]="newTransaction.subcategory"
              name="subcategory"
              placeholder="Subcategory"
              required
            />
          </div>
          <!-- Add the transaction type select -->
          <div class="form-group">
            <label for="type">Transaction Type</label>
            <select
              [(ngModel)]="newTransaction.transactionType"
              name="type"
              id="type"
              required
              class="p-3 border border-gray-300 rounded-md"
            >
              <option value="income">Income</option>
              <option value="expense">Expense</option>
            </select>
          </div>
          <div class="form-group">
            <button type="submit">Add Transaction</button>
          </div>
        </form>
      </div>

      <!-- Right side: Add Budget -->
      <div class="right-side">
        <h2>Add Budget</h2>
        <form (ngSubmit)="addBudget()">
          <div class="form-group">
            <input
              [(ngModel)]="newBudget.category"
              name="category"
              placeholder="Category"
              required
            />
          </div>
          <div class="form-group">
            <input
              [(ngModel)]="newBudget.limitAmount"
              name="limitAmount"
              placeholder="Limit Amount"
              type="number"
              required
            />
          </div>
          <div class="form-group">
            <button type="submit">Add Budget</button>
          </div>
        </form>
      </div>
    </section>

    <!-- Transactions Section -->
    <section>
      <h2>Transactions</h2>
      <button class="fetch-button" (click)="fetchTransactions('category1')">
        Fetch Transactions
      </button>
      <ul class="transaction-list">
        <li class="transaction-item" *ngFor="let transaction of transactions">
          {{ transaction.description }} -
          {{ transaction.amount | currency : "RWF" : "symbol" }} - Category:
          {{ transaction.category }} - Type: {{ transaction.type }}
          <button (click)="editTransaction(transaction)">Edit</button>
        </li>
      </ul>
    </section>

    <!-- Budgets Section -->
    <section>
      <h2>Budgets</h2>
      <ul class="budget-list">
        <li class="budget-item" *ngFor="let budget of budgets">
          Category: {{ budget.category }} - Limit:
          {{ budget.limitAmount | currency : "RWF" : "symbol" }} - Current
          Spending:
          {{ budget.currentSpending | currency : "RWF" : "symbol" }}
          <button (click)="editBudget(budget)">Edit</button>
        </li>
      </ul>
    </section>
  </div>
</body>
